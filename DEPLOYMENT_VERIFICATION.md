# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Deployment - р╕Чр╕╡р╕ер╕░р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ

## тЬЕ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Deployment Status

1. р╣Др╕Ыр╕Чр╕╡р╣И Render Dashboard: https://dashboard.render.com/
2. Click р╕Чр╕╡р╣И service `line-betting-bot`
3. р╕Фр╕╣ **"Deployments"** tab
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ deployment р╕ер╣Ир╕▓р╕кр╕╕р╕Ф:
   - тЬЕ **"Live"** (р╕кр╕╡р╣Ар╕Вр╕╡р╕вр╕з) = Deploy р╕кр╕│р╣Ар╕гр╣Зр╕И
   - тЭМ **"Failed"** (р╕кр╕╡р╣Бр╕Фр╕З) = Deploy р╕ер╣Йр╕бр╣Ар╕лр╕ер╕з
   - тП│ **"Building"** (р╕кр╕╡р╣Ар╕лр╕ер╕╖р╕нр╕З) = р╕Бр╕│р╕ер╕▒р╕З deploy

---

## тЬЕ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Health Check

1. р╣Ар╕Ыр╕┤р╕Ф URL:
   ```
   https://line-betting-bot.onrender.com/health
   ```

2. р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ response:
   ```json
   {
     "status": "healthy",
     "uptime": 123,
     "totalBets": 0,
     "totalRounds": 0,
     "totalErrors": 0,
     "errorRate": "0%",
     "recentErrors": []
   }
   ```

3. р╕Цр╣Йр╕▓р╣Ар╕лр╣Зр╕Щ error:
   - р╕Фр╕╣ Logs р╣Гр╕Щ Render Dashboard
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ environment variables р╕Др╕гр╕Ър╣Др╕лр╕б

---

## тЬЕ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╕Фр╕╣ Logs

1. р╣Др╕Ыр╕Чр╕╡р╣И Render Dashboard
2. Click р╕Чр╕╡р╣И service `line-betting-bot`
3. р╣Др╕Ыр╕Чр╕╡р╣И **"Logs"** tab
4. р╕Фр╕╣ logs р╕ер╣Ир╕▓р╕кр╕╕р╕Ф:
   - тЬЕ р╣Др╕бр╣Ир╕бр╕╡ error = р╕Чр╕│р╕Зр╕▓р╕Щр╕Ыр╕Бр╕Хр╕┤
   - тЭМ р╕бр╕╡ error = р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓

**р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З logs р╕Чр╕╡р╣Ир╕Фр╕╡:**
```
ЁЯФД Initializing Google Sheets Database...
тЬЕ Google Sheets Database initialized
ЁЯФД Initializing Open Betting Record Service...
тЬЕ Open Betting Record Service initialized
Server is running on port 3000
```

---

## тЬЕ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 4: р╕Чр╕Фр╕кр╕нр╕Ъ Webhook

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: р╕Чр╕Фр╕кр╕нр╕Ър╣Гр╕Щ LINE

1. **р╣Ар╕Юр╕┤р╣Ир╕б Bot р╣Ар╕Ыр╣Зр╕Щр╣Ар╕Юр╕╖р╣Ир╕нр╕Щ**
2. **р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ир╕▓р╕Бр╕Бр╕ер╕╕р╣Ир╕бр╣Др╕Ыр╕вр╕▒р╕З Bot:**
   - р╣Др╕Ыр╕Чр╕╡р╣Ир╕Бр╕ер╕╕р╣Ир╕бр╕Чр╕╡р╣Ир╕бр╕╡ Bot
   - р╕Юр╕┤р╕бр╕Юр╣Мр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕Фр╣Ж (р╣Ар╕Кр╣Ир╕Щ "р╕кр╕зр╕▒р╕кр╕Фр╕╡")
   - р╕Фр╕╣ Logs р╣Гр╕Щ Render Dashboard

3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Logs:**
   - р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ `ЁЯФФ Webhook received`
   - р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ `ЁЯУЭ Recording group activity: [group_id]`

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: р╕Чр╕Фр╕кр╕нр╕Ър╕Др╕│р╕кр╕▒р╣Ир╕З

1. **р╕кр╣Ир╕Зр╕Др╕│р╕кр╕▒р╣Ир╕З:**
   ```
   р╕кр╕гр╕╕р╕Ыр╕вр╕нр╕Фр╣Бр╕Чр╕З
   ```

2. **р╕Фр╕╣ Logs:**
   - р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ `ЁЯУК Summary command detected`

---

## тЬЕ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 5: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Auto-Detect Groups

1. **р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ир╕▓р╕Бр╕Бр╕ер╕╕р╣Ир╕бр╕Хр╣Ир╕▓р╕Зр╣Ж** р╣Др╕Ыр╕вр╕▒р╕З Bot
2. **р╣Др╕Ыр╕Чр╕╡р╣Ир╕Яр╕нр╕гр╣Мр╕б** (р╣Ар╕Кр╣Ир╕Щ р╣Ар╕Ыр╕┤р╕Фр╕гр╕▒р╕Ър╣Бр╕Чр╕З)
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ dropdown "р╣Ар╕ер╕╖р╕нр╕Бр╕Бр╕ер╕╕р╣Ир╕бр╕Чр╕╡р╣Ир╕Ир╕░р╕кр╣Ир╕З":**
   - тЬЕ р╣Бр╕кр╕Фр╕Зр╕Бр╕ер╕╕р╣Ир╕бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф = р╕Чр╕│р╕Зр╕▓р╕Щр╕Ыр╕Бр╕Хр╕┤
   - тЭМ р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕Зр╕Бр╕ер╕╕р╣Ир╕б = р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓

---

## ЁЯФз Troubleshooting

### Health Check р╕Вр╕╢р╣Йр╕Щ Error

**р╕Ыр╕▒р╕Нр╕лр╕▓:** `https://line-betting-bot.onrender.com/health` р╕Вр╕╢р╣Йр╕Щ error

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕Фр╕╣ Logs р╣Гр╕Щ Render Dashboard
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ environment variables р╕Др╕гр╕Ър╣Др╕лр╕б
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Google Sheets credentials р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╣Др╕лр╕б

### Webhook р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ

**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕ер╣Йр╕з Bot р╣Др╕бр╣Ир╕Хр╕нр╕Ъ

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Webhook URL р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╣Др╕лр╕б
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ "Use webhook" р╣Ар╕Ыр╕┤р╕Фр╣Др╕лр╕б
3. р╕Фр╕╣ Logs р╣Гр╕Щ Render Dashboard

### Groups р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕З

**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕Яр╕нр╕гр╣Мр╕бр╣Др╕бр╣Ир╣Бр╕кр╕Фр╕Зр╕Бр╕ер╕╕р╣Ир╕б

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ир╕▓р╕Бр╕Бр╕ер╕╕р╣Ир╕бр╣Др╕Ыр╕вр╕▒р╕З Bot
2. р╕гр╕н 1-2 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡
3. Refresh р╕Яр╕нр╕гр╣Мр╕б
4. р╕Фр╕╣ Logs р╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ group ID р╕Цр╕╣р╕Б record р╣Др╕лр╕б

---

## ЁЯУК р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Groups р╕Чр╕╡р╣И Record р╣Др╕зр╣Й

1. р╣Др╕Ыр╕Чр╕╡р╣И Render Dashboard
2. Click р╕Чр╕╡р╣И service `line-betting-bot`
3. р╣Др╕Ыр╕Чр╕╡р╣И **"Shell"** tab
4. р╕гр╕▒р╕Щ command:
   ```bash
   cat data/groups.json
   ```

5. р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ:
   ```json
   {
     "C1234567890abcdef1234567890abcdef": {
       "id": "C1234567890abcdef1234567890abcdef",
       "name": "р╕лр╣Йр╕нр╕Зр╣Бр╕Чр╕З 1",
       "createdAt": "2026-01-07T...",
       "lastActive": "2026-01-07T..."
     }
   }
   ```

---

## тЬЕ р╕кр╕гр╕╕р╕Ы

р╕Цр╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Щр╕╡р╣Йр╕Ьр╣Ир╕▓р╕Щ = Deploy р╕кр╕│р╣Ар╕гр╣Зр╕И тЬЕ

- тЬЕ Health Check р╕Вр╕╢р╣Йр╕Щ
- тЬЕ Logs р╣Др╕бр╣Ир╕бр╕╡ error
- тЬЕ Webhook р╕Чр╕│р╕Зр╕▓р╕Щ
- тЬЕ Groups р╣Бр╕кр╕Фр╕Зр╣Гр╕Щр╕Яр╕нр╕гр╣Мр╕б

